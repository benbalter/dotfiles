#!/bin/bash

DOTFILES_ROOT="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && cd .. && pwd )"
source "$DOTFILES_ROOT/lib/functions.zsh"

title "Updating Homebrew..."
brew update
brew upgrade

title "Updating App Store apps"
softwareupdate --install --all

title "Updating Atom..."
apm update
apm upgrade

title "Updating global Node packages..."
npm update --global
npm upgrade --global

if [ $(rbenv global) != $(latest_ruby) ]; then
  title "Updating Ruby..."
  rbenv install $(latest_ruby)
  rbenv global $(latest_ruby)
  rbenv rehash
  gem install bundler
fi

title "Updating system Ruby gems..."
gem update --system
gem update
